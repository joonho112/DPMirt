<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>DPMirt: Bayesian Semiparametric IRT with DPM Priors • DPMirt</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="DPMirt: Bayesian Semiparametric IRT with DPM Priors">
<meta name="description" content="Bayesian semiparametric Item Response Theory (IRT) models using
Dirichlet Process Mixture (DPM) priors via NIMBLE. Supports Rasch,
2PL, and 3PL models with triple-goal posterior estimation.
">
<meta property="og:description" content="Bayesian semiparametric Item Response Theory (IRT) models using
Dirichlet Process Mixture (DPM) priors via NIMBLE. Supports Rasch,
2PL, and 3PL models with triple-goal posterior estimation.
">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">DPMirt</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes">
<li><h6 class="dropdown-header" data-toc-skip>--- Getting Started ---</h6></li>
    <li><a class="dropdown-item" href="articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="articles/quick-start.html">Quick Start</a></li>
    <li><a class="dropdown-item" href="articles/models-and-workflow.html">Models &amp; Workflow</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>--- Theory &amp; Methods ---</h6></li>
    <li><a class="dropdown-item" href="articles/theory-irt-dpm.html">IRT &amp; DPM Theory</a></li>
    <li><a class="dropdown-item" href="articles/posterior-summaries.html">Posterior Summaries</a></li>
    <li><a class="dropdown-item" href="articles/prior-elicitation.html">Prior Elicitation</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>--- Advanced ---</h6></li>
    <li><a class="dropdown-item" href="articles/nimble-internals.html">NIMBLE Internals</a></li>
    <li><a class="dropdown-item" href="articles/simulation-study.html">Simulation Study</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/joonho112/DPMirt/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="dpmirt-">DPMirt <img src="reference/figures/logo.png" align="right" height="139" alt=""><a class="anchor" aria-label="anchor" href="#dpmirt-"></a>
</h1></div>
<!-- badges: start -->

<p><strong>Bayesian Semiparametric Item Response Theory Models Using Dirichlet Process Mixture Priors</strong></p>
<p>DPMirt fits Bayesian IRT models with flexible, nonparametric ability distributions via <a href="https://r-nimble.org/" class="external-link">NIMBLE</a>. It supports Rasch, 2PL, and 3PL models under both a standard Normal prior and a Dirichlet Process Mixture (DPM) prior, and provides three posterior summary methods — PM, CB, and GR — designed for different inferential goals.</p>
<div class="section level2">
<h2 id="key-features">Key Features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h2>
<table class="table">
<colgroup>
<col width="40%">
<col width="59%">
</colgroup>
<thead><tr>
<th align="left">Feature</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr>
<td align="left"><strong>Three IRT models</strong></td>
<td align="left">Rasch, 2PL, and 3PL</td>
</tr>
<tr>
<td align="left"><strong>Two latent priors</strong></td>
<td align="left">Parametric (Normal) and semiparametric (DPM)</td>
</tr>
<tr>
<td align="left"><strong>Triple-goal estimation</strong></td>
<td align="left">Posterior Mean (PM), Constrained Bayes (CB; Ghosh 1992), Triple-Goal (GR; Shen &amp; Louis 1998)</td>
</tr>
<tr>
<td align="left"><strong>Compile-once workflow</strong></td>
<td align="left">Compile the NIMBLE model once, then draw additional samples without recompilation</td>
</tr>
<tr>
<td align="left"><strong>Principled prior elicitation</strong></td>
<td align="left">Automatic concentration-parameter selection via <a href="https://github.com/joonho112/DPprior" class="external-link">DPprior</a>
</td>
</tr>
<tr>
<td align="left"><strong>Reliability-targeted simulation</strong></td>
<td align="left">Generate test data at a specified marginal reliability via <a href="https://github.com/joonho112/IRTsimrel" class="external-link">IRTsimrel</a>
</td>
</tr>
<tr>
<td align="left"><strong>Rich diagnostics</strong></td>
<td align="left">ESS, R-hat, WAIC, posterior predictive checks, trace and density plots</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the development version from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"joonho112/DPMirt"</span><span class="op">)</span></span></code></pre></div>
<p>DPMirt requires <strong>R ≥ 4.1</strong> and <strong>nimble ≥ 1.0.0</strong>. NIMBLE needs a working C++ compiler; see the <a href="https://r-nimble.org/download" class="external-link">NIMBLE installation guide</a> if you do not already have one set up.</p>
<div class="section level3">
<h3 id="optional-packages">Optional packages<a class="anchor" aria-label="anchor" href="#optional-packages"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Principled alpha prior elicitation</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"joonho112/DPprior"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Reliability-targeted simulation</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"joonho112/IRTsimrel"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Enhanced plotting</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ggplot2"</span>, <span class="st">"bayesplot"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://joonho112.github.io/DPMirt/">DPMirt</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 1. Simulate a bimodal population (200 persons, 20 items)</span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dpmirt_simulate.html">dpmirt_simulate</a></span><span class="op">(</span></span>
<span>  n_persons <span class="op">=</span> <span class="fl">200</span>, n_items <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"rasch"</span>, latent_shape <span class="op">=</span> <span class="st">"bimodal"</span>,</span>
<span>  target_rho <span class="op">=</span> <span class="fl">0.8</span>, seed <span class="op">=</span> <span class="fl">42</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Fit a Rasch model with a DPM prior</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dpmirt.html">dpmirt</a></span><span class="op">(</span></span>
<span>  <span class="va">sim</span><span class="op">$</span><span class="va">response</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"rasch"</span>, prior <span class="op">=</span> <span class="st">"dpm"</span>,</span>
<span>  niter <span class="op">=</span> <span class="fl">10000</span>, nburnin <span class="op">=</span> <span class="fl">3000</span>, seed <span class="op">=</span> <span class="fl">123</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Inspect results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fit</span>, type <span class="op">=</span> <span class="st">"density"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4. Compute triple-goal estimates (PM, CB, GR)</span></span>
<span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dpmirt_estimates.html">dpmirt_estimates</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">est</span>, type <span class="op">=</span> <span class="st">"shrinkage"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 5. Compare Normal vs DPM priors</span></span>
<span><span class="va">fit_normal</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dpmirt.html">dpmirt</a></span><span class="op">(</span></span>
<span>  <span class="va">sim</span><span class="op">$</span><span class="va">response</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"rasch"</span>, prior <span class="op">=</span> <span class="st">"normal"</span>,</span>
<span>  niter <span class="op">=</span> <span class="fl">10000</span>, nburnin <span class="op">=</span> <span class="fl">3000</span>, seed <span class="op">=</span> <span class="fl">123</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/dpmirt_compare.html">dpmirt_compare</a></span><span class="op">(</span><span class="va">fit_normal</span>, <span class="va">fit</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="step-by-step-pipeline">Step-by-Step Pipeline<a class="anchor" aria-label="anchor" href="#step-by-step-pipeline"></a>
</h2>
<p>For finer control, use the modular pipeline instead of the all-in-one <code><a href="reference/dpmirt.html">dpmirt()</a></code> wrapper:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Specify</span></span>
<span><span class="va">spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dpmirt_spec.html">dpmirt_spec</a></span><span class="op">(</span><span class="va">sim</span><span class="op">$</span><span class="va">response</span>, model <span class="op">=</span> <span class="st">"2pl"</span>, prior <span class="op">=</span> <span class="st">"dpm"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compile (slow — only done once)</span></span>
<span><span class="va">compiled</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dpmirt_compile.html">dpmirt_compile</a></span><span class="op">(</span><span class="va">spec</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sample</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dpmirt_sample.html">dpmirt_sample</a></span><span class="op">(</span><span class="va">compiled</span>, niter <span class="op">=</span> <span class="fl">10000</span>, nburnin <span class="op">=</span> <span class="fl">3000</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Rescale (post-hoc identification)</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dpmirt_rescale.html">dpmirt_rescale</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Continue sampling without recompiling</span></span>
<span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dpmirt_resume.html">dpmirt_resume</a></span><span class="op">(</span><span class="va">fit</span>, niter_more <span class="op">=</span> <span class="fl">5000</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="posterior-summary-methods">Posterior Summary Methods<a class="anchor" aria-label="anchor" href="#posterior-summary-methods"></a>
</h2>
<p>DPMirt implements three complementary estimators for person abilities:</p>
<ul>
<li>
<strong>PM (Posterior Mean)</strong> — minimises individual-level mean squared error but can severely compress the ability distribution, especially when test reliability is low.</li>
<li>
<strong>CB (Constrained Bayes)</strong> — inflates the PM distribution so that the first two moments of the estimates match the posterior predictive distribution (Ghosh, 1992).</li>
<li>
<strong>GR (Triple-Goal)</strong> — places each estimate at the midpoint of its corresponding quantile interval of the estimated empirical distribution function, optimising simultaneous estimation, ranking, and distributional recovery (Shen &amp; Louis, 1998).</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">est</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dpmirt_estimates.html">dpmirt_estimates</a></span><span class="op">(</span><span class="va">fit</span>, methods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pm"</span>, <span class="st">"cb"</span>, <span class="st">"gr"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compare estimator distributions against truth</span></span>
<span><span class="fu"><a href="reference/dpmirt_loss.html">dpmirt_loss</a></span><span class="op">(</span><span class="va">est</span>, true_theta <span class="op">=</span> <span class="va">sim</span><span class="op">$</span><span class="va">theta</span>, metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"msel"</span>, <span class="st">"ks"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<p>DPMirt ships with eight vignettes organised into two reading tracks:</p>
<table class="table">
<colgroup>
<col width="58%">
<col width="41%">
</colgroup>
<thead><tr>
<th align="left">Vignette</th>
<th align="left">Topic</th>
</tr></thead>
<tbody>
<tr>
<td align="left"><code><a href="articles/introduction.html">vignette("introduction")</a></code></td>
<td align="left">Package overview and reading guide</td>
</tr>
<tr>
<td align="left"><code><a href="articles/quick-start.html">vignette("quick-start")</a></code></td>
<td align="left">First model fit in 5 minutes</td>
</tr>
<tr>
<td align="left"><code><a href="articles/models-and-workflow.html">vignette("models-and-workflow")</a></code></td>
<td align="left">All models, priors, and the step-by-step pipeline</td>
</tr>
<tr>
<td align="left"><code><a href="articles/posterior-summaries.html">vignette("posterior-summaries")</a></code></td>
<td align="left">PM vs CB vs GR with shrinkage diagnostics</td>
</tr>
<tr>
<td align="left"><code><a href="articles/prior-elicitation.html">vignette("prior-elicitation")</a></code></td>
<td align="left">Principled DPM hyperprior selection</td>
</tr>
<tr>
<td align="left"><code><a href="articles/simulation-study.html">vignette("simulation-study")</a></code></td>
<td align="left">Replicating the evaluation framework from Lee &amp; Wind</td>
</tr>
<tr>
<td align="left"><code><a href="articles/theory-irt-dpm.html">vignette("theory-irt-dpm")</a></code></td>
<td align="left">Mathematical foundations</td>
</tr>
<tr>
<td align="left"><code><a href="articles/nimble-internals.html">vignette("nimble-internals")</a></code></td>
<td align="left">Custom samplers and advanced NIMBLE configuration</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li>Lee, J. &amp; Wind, S. Targeting toward inferential goals in Bayesian Rasch models for estimating person-specific latent traits. <em>OSF Preprint</em>. <a href="https://doi.org/10.31219/osf.io/qrw4n" class="external-link uri">https://doi.org/10.31219/osf.io/qrw4n</a>
</li>
<li>Paganin, S., Paciorek, C. J., Wehrhahn, C., Rodriguez, A., Rabe-Hesketh, S., &amp; de Valpine, P. (2023). Computational strategies and estimation performance with Bayesian semiparametric item response theory models. <em>Journal of Educational and Behavioral Statistics, 48</em>(2), 147–188.</li>
<li>Ghosh, M. (1992). Constrained Bayes estimation with applications. <em>Journal of the American Statistical Association, 87</em>(418), 533–540.</li>
<li>Shen, W., &amp; Louis, T. A. (1998). Triple-goal estimates in two-stage hierarchical models. <em>Journal of the Royal Statistical Society: Series B, 60</em>(2), 455–471.</li>
</ul>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT © JoonHo Lee</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/joonho112/DPMirt/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/joonho112/DPMirt/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing DPMirt</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://github.com/joonho112" class="external-link">JoonHo Lee</a> <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/joonho112/DPMirt" class="external-link"><img src="https://img.shields.io/badge/R--CMD--check-passing-brightgreen" alt="R-CMD-check"></a></li>
<li><a href="https://opensource.org/licenses/MIT" class="external-link"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/joonho112" class="external-link">JoonHo Lee</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
