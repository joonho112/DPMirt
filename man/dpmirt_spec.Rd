% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_spec.R
\name{dpmirt_spec}
\alias{dpmirt_spec}
\alias{print.dpmirt_spec}
\title{Create a DPMirt model specification}
\usage{
dpmirt_spec(
  data,
  model = c("rasch", "2pl", "3pl"),
  prior = c("normal", "dpm"),
  parameterization = c("irt", "si"),
  identification = NULL,
  alpha_prior = NULL,
  base_measure = list(s2_mu = 2, nu1 = 2.01, nu2 = 1.01),
  item_priors = list(),
  M = 50L,
  data_format = c("auto", "matrix", "long"),
  ...
)

\method{print}{dpmirt_spec}(x, ...)
}
\arguments{
\item{data}{A matrix or data.frame of binary (0/1) responses with persons
in rows and items in columns. Can also be a long-format data.frame with
columns for person, item, and response.}

\item{model}{Character. IRT model type: \code{"rasch"}, \code{"2pl"},
or \code{"3pl"}.}

\item{prior}{Character. Latent trait prior: \code{"normal"} (parametric)
or \code{"dpm"} (Dirichlet Process Mixture).}

\item{parameterization}{Character. \code{"irt"} for standard IRT or
\code{"si"} for slope-intercept. Only relevant for 2PL/3PL.}

\item{identification}{Character or NULL. Identification strategy:
\code{"constrained_item"}, \code{"constrained_ability"},
or \code{"unconstrained"}. If NULL, uses model-specific default
(constrained_item for Rasch, unconstrained for 2PL/3PL).}

\item{alpha_prior}{Alpha hyperprior specification. NULL for default
(auto-elicit or Gamma(1,3)), a numeric vector c(a, b) for
Gamma(a, b), or a DPprior_fit object. Only used when prior = "dpm".}

\item{base_measure}{List with DPM base measure hyperparameters:
s2_mu, nu1, nu2. Defaults from Paganin et al. (2023).}

\item{item_priors}{List of custom item priors (advanced use).}

\item{M}{Integer. Maximum number of clusters for CRP truncation.
Only used when prior = "dpm".}

\item{data_format}{Character. \code{"auto"}, \code{"matrix"}, or
\code{"long"}.}

\item{...}{Additional arguments (currently unused).}

\item{x}{A \code{dpmirt_spec} object.}
}
\value{
A \code{dpmirt_spec} S3 object containing:
\describe{
\item{code}{A \code{nimbleCode} object.}
\item{constants}{List of constants (N, I, M, etc.).}
\item{data}{List with the response data.}
\item{inits}{List of initial values.}
\item{monitors}{Character vector of parameters to track.}
\item{monitors2}{Character vector of parameters for thinned monitoring.}
\item{config}{List of all model configuration options.}
}
}
\description{
Constructs a complete specification for a Bayesian IRT model, including
NIMBLE model code, constants, data, initial values, and monitor
configuration. This is the first step in the step-by-step workflow.
}
\examples{
\dontrun{
sim <- dpmirt_simulate(200, 20, model = "rasch", seed = 42)

# Rasch-Normal specification
spec <- dpmirt_spec(sim$response, model = "rasch", prior = "normal")
print(spec)

# Rasch-DPM with custom alpha prior
spec_dpm <- dpmirt_spec(sim$response, model = "rasch", prior = "dpm",
                        alpha_prior = c(1, 3))

# 2PL specification
sim2 <- dpmirt_simulate(300, 25, model = "2pl", seed = 42)
spec_2pl <- dpmirt_spec(sim2$response, model = "2pl", prior = "normal",
                        parameterization = "irt")
}

}
\seealso{
\code{\link{dpmirt}}, \code{\link{dpmirt_compile}}

Other model fitting: 
\code{\link{dpmirt}()},
\code{\link{dpmirt_compile}()},
\code{\link{dpmirt_fit-methods}},
\code{\link{dpmirt_resume}()},
\code{\link{dpmirt_sample}()}
}
\concept{model fitting}
