% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dpmirt.R
\name{dpmirt}
\alias{dpmirt}
\title{Fit a Bayesian IRT model with DPMirt}
\usage{
dpmirt(
  data,
  model = c("rasch", "2pl", "3pl"),
  prior = c("normal", "dpm"),
  parameterization = c("irt", "si"),
  identification = NULL,
  niter = 10000L,
  nburnin = 2000L,
  thin = 1L,
  thin2 = NULL,
  nchains = 1L,
  seed = NULL,
  alpha_prior = NULL,
  mu_K = NULL,
  confidence = "medium",
  base_measure = list(s2_mu = 2, nu1 = 2.01, nu2 = 1.01),
  M = 50L,
  item_priors = list(),
  rescale = TRUE,
  compute_waic = TRUE,
  compute_dp_density = TRUE,
  save_draws = TRUE,
  save_path = NULL,
  sampler_config = NULL,
  verbose = TRUE,
  ...
)
}
\arguments{
\item{data}{A matrix or data.frame of binary (0/1) responses. Persons in
rows, items in columns.}

\item{model}{Character. IRT model type: \code{"rasch"}, \code{"2pl"},
or \code{"3pl"}.}

\item{prior}{Character. Latent trait prior: \code{"normal"} or \code{"dpm"}.}

\item{parameterization}{Character. \code{"irt"} or \code{"si"}. Default
\code{"irt"}.}

\item{identification}{Character or NULL. Identification strategy. If NULL,
uses model-specific default.}

\item{niter}{Integer. Total MCMC iterations. Default 10000.}

\item{nburnin}{Integer. Burn-in iterations. Default 2000.}

\item{thin}{Integer. Thinning for main monitors. Default 1.}

\item{thin2}{Integer or NULL. Thinning for eta. NULL = same as thin.}

\item{nchains}{Integer. Number of chains. Default 1.}

\item{seed}{Integer or NULL. Random seed.}

\item{alpha_prior}{Alpha hyperprior for DPM. NULL (default Gamma(1,3) or
auto-elicit if \code{mu_K} is set), a numeric vector \code{c(a, b)} for
Gamma(a, b), or the output of \code{\link{dpmirt_alpha_prior}}.}

\item{mu_K}{Numeric or NULL. Expected number of clusters for automatic
alpha prior elicitation via \code{\link{dpmirt_alpha_prior}}. Only used
when \code{prior = "dpm"} and \code{alpha_prior = NULL}. Requires
the DPprior package; falls back to Gamma(1, 3) if not installed.}

\item{confidence}{Character. DPprior confidence level for alpha elicitation:
\code{"low"}, \code{"medium"} (default), or \code{"high"}. Only used when
\code{mu_K} is set.}

\item{base_measure}{List of DPM base measure hyperparameters.}

\item{M}{Integer. Max clusters for CRP. Default 50.}

\item{item_priors}{List of custom item priors.}

\item{rescale}{Logical. Apply post-hoc rescaling. Default TRUE.}

\item{compute_waic}{Logical. Compute WAIC. Default TRUE.}

\item{compute_dp_density}{Logical. Compute DP density. Default TRUE for DPM.}

\item{save_draws}{Logical. Save full theta posterior. Default TRUE.}

\item{save_path}{Character or NULL. Path for disk-backed storage.}

\item{sampler_config}{Optional custom sampler configuration.}

\item{verbose}{Logical. Print progress. Default TRUE.}

\item{...}{Additional arguments.}
}
\value{
A \code{dpmirt_fit} S3 object.
}
\description{
The main entry point for DPMirt. Handles the full pipeline from data
to fitted model: specification, compilation, MCMC sampling, rescaling,
and diagnostics.
}
\examples{
\dontrun{
# --- Simulate test data ---
sim <- dpmirt_simulate(200, 20, model = "rasch", seed = 42)

# --- Rasch model with Normal prior ---
fit_normal <- dpmirt(sim$response, model = "rasch", prior = "normal",
                     niter = 5000, nburnin = 1000, seed = 123)
summary(fit_normal)
coef(fit_normal)

# --- Rasch model with DPM prior ---
fit_dpm <- dpmirt(sim$response, model = "rasch", prior = "dpm",
                  niter = 10000, nburnin = 3000, seed = 123)

# --- Compare Normal vs DPM ---
dpmirt_compare(fit_normal, fit_dpm)
}

}
\references{
Paganin, S., Paciorek, C. J., Wehrhahn, C., Rodriguez, A.,
Rabe-Hesketh, S., & de Valpine, P. (2023). Computational strategies
and estimation performance with Bayesian semiparametric item response
theory models. \emph{Journal of Educational and Behavioral Statistics,
48}(2), 147--188.
}
\seealso{
\code{\link{dpmirt_spec}}, \code{\link{dpmirt_compile}},
\code{\link{dpmirt_sample}}, \code{\link{dpmirt_estimates}},
\code{\link{dpmirt_simulate}}

Other model fitting: 
\code{\link{dpmirt_compile}()},
\code{\link{dpmirt_fit-methods}},
\code{\link{dpmirt_resume}()},
\code{\link{dpmirt_sample}()},
\code{\link{dpmirt_spec}()}
}
\concept{model fitting}
